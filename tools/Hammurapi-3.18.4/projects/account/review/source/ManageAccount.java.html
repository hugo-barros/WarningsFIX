<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<STYLE>
                <!-- 
                    .lineNum { width:40px; background:silver; text-align:right; padding-right:3px; color:maroon }
                    .reserved_word { color:blue; font:bold }
                    .comment { color:gray }
                    .literal { color:maroon }
                    TH.standard { font:bold; background:gray }
                    TABLE.standard { background:silver }
                    TR.standard { background:white }
             --> 
            </STYLE>
<TITLE>Hammurapi 3.18.4 []</TITLE>
</HEAD>
<BODY>
<H1>ManageAccount.java</H1>
<BR>     
            Package: <P></P>
<P></P>
<B style="color:blue">Results</B>
<table cellspacing="0" cellpadding="5">
<tr>
<th align="left">Date</th><td align="right">2014/10/26</td>
</tr>
<tr>
<th align="left">Codebase</th><td align="right">492</td>
</tr>
<tr>
<th align="left">Reviews</th><td align="right">934</td>
</tr>
<tr title="Defects per million opportunities">
<td align="left"><B>DPMO</B></td><td align="right">1616 (not accurate because of warnings)</td>
</tr>
<tr title="Sigma">
<td align="left"><B>Sigma</B></td><td align="right">4,445 (not accurate because of warnings)</td>
</tr>
</table>
<P></P>
<B style="color:blue">Metrics</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">Name</th><th class="standard">Number</th><th class="standard">Min</th><th class="standard">Avg</th><th class="standard">Max</th><th class="standard">Total</th>
</tr>
<tr class="standard">
<td>Class complexity</td><td align="right">1</td><td align="right">5.00</td><td align="right">5.00</td><td align="right">5.00</td><td align="right">5.00</td>
</tr>
<tr class="standard">
<td>Code length</td><td align="right">3</td><td align="right">3.00</td><td align="right">5.00</td><td align="right">8.00</td><td align="right">15.00</td>
</tr>
<tr class="standard">
<td>File length</td><td align="right">1</td><td align="right">0.00</td><td align="right">0.00</td><td align="right">0.00</td><td align="right">0.00</td>
</tr>
<tr class="standard">
<td>Operation complexity</td><td align="right">3</td><td align="right">1.00</td><td align="right">1.66</td><td align="right">3.00</td><td align="right">5.00</td>
</tr>
<tr class="standard">
<td>Work order</td><td align="right">1</td><td align="right">23.98</td><td align="right">23.98</td><td align="right">23.98</td><td align="right">23.98</td>
</tr>
</table>
<P></P>
<B style="color:blue">Violations</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Name</th><th class="standard">Severity</th><th class="standard">Description</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-016.html">ER-016</a></td><td align="right">2</td><td>Missing package declaration - encourage structuring and avoid namesapace conflicts by using packages</td>
</tr>
<tr class="standard">
<td align="right">2</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-023.html">ER-023</a></td><td align="right">3</td><td>Packages should begin with []</td>
</tr>
<tr class="standard">
<td align="right">3</td><td align="right"><a href="#line_13">13</a></td><td align="right">47</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-036.html">ER-036</a></td><td align="right">3</td><td>Line is too long</td>
</tr>
<tr class="standard">
<td align="right">4</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-099.html">ER-099</a></td><td align="right">2</td><td>Use the "synchronized" modifier on methods that implement 'Runnable.run ()'</td>
</tr>
<tr class="standard">
<td align="right">5</td><td align="right"><a href="#line_16">16</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-201.html">ER-201</a></td><td align="right">3</td><td>Discourage usage of instance variables like a, j by enforcing minimal variable name length.</td>
</tr>
<tr class="standard">
<td align="right">6</td><td align="right"><a href="#line_13">13</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-104.html">ER-104</a></td><td align="right">2</td><td>Use a Collection instead of arrays Object[]</td>
</tr>
<tr class="standard">
<td align="right">7</td><td align="right"><a href="#line_13">13</a></td><td align="right">43</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">8</td><td align="right"><a href="#line_14">14</a></td><td align="right">20</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">9</td><td align="right"><a href="#line_18">18</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-105.html">ER-105</a></td><td align="right">3</td><td>Document all Interfaces and public methods. Use a Class header. Provide Javadoc</td>
</tr>
<tr class="standard">
<td align="right">10</td><td align="right"><a href="#line_18">18</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-109.html">ER-109</a></td><td align="right">3</td><td>It is good practice to call in any case super() in a constructor. (see also: UnnecessaryConstructorRule )</td>
</tr>
<tr class="standard">
<td align="right">11</td><td align="right"><a href="#line_18">18</a></td><td align="right">38</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">12</td><td align="right"><a href="#line_25">25</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-105.html">ER-105</a></td><td align="right">3</td><td>Document all Interfaces and public methods. Use a Class header. Provide Javadoc</td>
</tr>
<tr class="standard">
<td align="right">13</td><td align="right"><a href="#line_26">26</a></td><td align="right">25</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">14</td><td align="right"><a href="#line_27">27</a></td><td align="right">46</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">15</td><td align="right"><a href="#line_28">28</a></td><td align="right">25</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">16</td><td align="right"><a href="#line_29">29</a></td><td align="right">38</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">17</td><td align="right"><a href="#line_29">29</a></td><td align="right">46</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">18</td><td align="right"><a href="#line_30">30</a></td><td align="right">26</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">19</td><td align="right"><a href="#line_31">31</a></td><td align="right">25</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">20</td><td align="right"><a href="#line_32">32</a></td><td align="right">46</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">21</td><td align="right"><a href="#line_33">33</a></td><td align="right">26</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">22</td><td align="right"><a href="#line_36">36</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-018.html">ER-018</a></td><td align="right">3</td><td>Sun coding standards - class modifiers should be in order (public protected private abstract static final strictfp)</td>
</tr>
<tr class="standard">
<td align="right">23</td><td align="right"><a href="#line_36">36</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-105.html">ER-105</a></td><td align="right">3</td><td>Document all Interfaces and public methods. Use a Class header. Provide Javadoc</td>
</tr>
<tr class="standard">
<td align="right">24</td><td align="right"><a href="#line_39">39</a></td><td align="right">51</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-031.html">ER-031</a></td><td align="right">3</td><td>More than one statement per line</td>
</tr>
<tr class="standard">
<td align="right">25</td><td align="right"><a href="#line_39">39</a></td><td align="right">51</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-096.html">ER-096</a></td><td align="right">3</td><td>Empty statements</td>
</tr>
</table>
<P></P>
<B style="color:blue">Warnings</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Message</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>java.lang.ClassNotFoundException: Class not found: org.apache.log4j.Logger</td>
</tr>
<tr class="standard">
<td align="right">2</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">3</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">4</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">5</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">6</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EntityBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">7</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">8</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">9</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>Exception com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">10</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">11</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.SessionBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">12</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">13</td><td align="right"><a href="#line_11">11</a></td><td align="right">1</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">14</td><td align="right"><a href="#line_25">25</a></td><td align="right">5</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">15</td><td align="right"><a href="#line_26">26</a></td><td align="right">24</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">16</td><td align="right"><a href="#line_27">27</a></td><td align="right">25</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">17</td><td align="right"><a href="#line_28">28</a></td><td align="right">24</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">18</td><td align="right"><a href="#line_29">29</a></td><td align="right">25</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">19</td><td align="right"><a href="#line_30">30</a></td><td align="right">25</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">20</td><td align="right"><a href="#line_31">31</a></td><td align="right">24</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">21</td><td align="right"><a href="#line_32">32</a></td><td align="right">25</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">22</td><td align="right"><a href="#line_33">33</a></td><td align="right">25</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">23</td><td align="right"><a href="#line_36">36</a></td><td align="right">5</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
<tr class="standard">
<td align="right">24</td><td align="right"><a href="#line_39">39</a></td><td align="right">48</td><td>com.pavelvlasov.jsel.JselException: Superclass not found in class loader: 'javax.ejb.EnterpriseBean', subclass parameter: 'java.lang.Thread'</td>
</tr>
</table>
<P></P>
<DL>
<DT>
<B style="color:blue">JavaDoc</B>
</DT>
<DD>
<a href="../../javadoc/ManageAccount.html">ManageAccount</a>
</DD>
</DL>
<HR>
<PRE>
<a name="line_1" class="lineNum">1</a><span class="comment">/**<BR/><A class="lineNum" name="line_2">2</A> * Title:        Software Testing course<BR/><A class="lineNum" name="line_3">3</A> * Description:  The goal of the exercise is implementing a  program which demonstrate  a parallel bug.<BR/><A class="lineNum" name="line_4">4</A> * In the exercise we have two accounts.The program enable tranfering  money from one account to the other.Although the functions were defended by locks (synchronize) there exists an interleaving which we'll experience a bug.<BR/><A class="lineNum" name="line_5">5</A> * Copyright:    Copyright (c) 2003<BR/><A class="lineNum" name="line_6">6</A> * Company:      Haifa U.<BR/><A class="lineNum" name="line_7">7</A> * @author Maya Maimon<BR/><A class="lineNum" name="line_8">8</A> * @version 1.0<BR/><A class="lineNum" name="line_9">9</A> */</span><BR/><A class="lineNum" name="line_10">10</A><BR/><A class="lineNum" name="line_11">11</A><span class="reserved_word">public</span> <span class="reserved_word">class</span> ManageAccount <span class="reserved_word">extends</span> Thread {<BR/><A class="lineNum" name="line_12">12</A>    Account account;<BR/><A class="lineNum" name="line_13">13</A>    <span class="reserved_word">static</span> Account[] accounts=<span class="reserved_word">new</span> Account[<span class="literal">10</span>];<span class="comment">//we may add more later to increase the parallelism level<BR/><A class="lineNum" name="line_14">14</A></span>    <span class="reserved_word">static</span> <span class="reserved_word">int</span> num=<span class="literal">2</span>;<span class="comment">//the number of the accounts<BR/><A class="lineNum" name="line_15">15</A></span>    <span class="reserved_word">static</span> <span class="reserved_word">int</span> accNum=<span class="literal">0</span>;<span class="comment">//index to insert the next account<BR/><A class="lineNum" name="line_16">16</A></span>    <span class="reserved_word">int</span> i;<span class="comment">//the index<BR/><A class="lineNum" name="line_17">17</A></span><BR/><A class="lineNum" name="line_18">18</A>    <span class="reserved_word">public</span> ManageAccount(String name,<span class="reserved_word">double</span> amount) {<BR/><A class="lineNum" name="line_19">19</A>        account=<span class="reserved_word">new</span> Account(name,amount);<BR/><A class="lineNum" name="line_20">20</A>        i=accNum;<BR/><A class="lineNum" name="line_21">21</A>        accounts[i]=account;<BR/><A class="lineNum" name="line_22">22</A>        accNum=(accNum+<span class="literal">1</span>)%num;<span class="comment">//the next index in a cyclic order<BR/><A class="lineNum" name="line_23">23</A></span>    }<BR/><A class="lineNum" name="line_24">24</A><BR/><A class="lineNum" name="line_25">25</A>    <span class="reserved_word">public</span> <span class="reserved_word">void</span> run() {<BR/><A class="lineNum" name="line_26">26</A>        account.depsite(<span class="literal">300</span>);<BR/><A class="lineNum" name="line_27">27</A>        account.transfer(accounts[(i+<span class="literal">1</span>)%num],<span class="literal">10</span>);<BR/><A class="lineNum" name="line_28">28</A>        account.depsite(<span class="literal">10</span>);<BR/><A class="lineNum" name="line_29">29</A>        account.transfer(accounts[(i+<span class="literal">2</span>)%num],<span class="literal">10</span>);<BR/><A class="lineNum" name="line_30">30</A>        account.withdraw(<span class="literal">20</span>);<BR/><A class="lineNum" name="line_31">31</A>        account.depsite(<span class="literal">10</span>);<BR/><A class="lineNum" name="line_32">32</A>        account.transfer(accounts[(i+<span class="literal">1</span>)%num],<span class="literal">10</span>);<BR/><A class="lineNum" name="line_33">33</A>        account.withdraw(<span class="literal">100</span>);<BR/><A class="lineNum" name="line_34">34</A>    }<BR/><A class="lineNum" name="line_35">35</A><BR/><A class="lineNum" name="line_36">36</A>    <span class="reserved_word">static</span> <span class="reserved_word">public</span> <span class="reserved_word">void</span> printAllAccounts() {<BR/><A class="lineNum" name="line_37">37</A>        <span class="reserved_word">for</span> (<span class="reserved_word">int</span> j=<span class="literal">0</span>; j&lt;num; j++) {<BR/><A class="lineNum" name="line_38">38</A>            <span class="reserved_word">if</span>( ManageAccount.accounts[j]!=<span class="reserved_word">null</span>) {<BR/><A class="lineNum" name="line_39">39</A>                ManageAccount.accounts[j].print();;<span class="comment">//print it<BR/><A class="lineNum" name="line_40">40</A></span>            }<BR/><A class="lineNum" name="line_41">41</A>        }<BR/><A class="lineNum" name="line_42">42</A>    }<BR/><A class="lineNum" name="line_43">43</A><BR/><A class="lineNum" name="line_44">44</A>}<span class="comment">//end of class ManageAccount<BR/><A class="lineNum" name="line_45">45</A></span><BR/><A class="lineNum" name="line_46">46</A>
</PRE>
<HR>
<i>Hammurapi 3.18.4 Copyright &copy; 2004 Hammurapi Group. All Rights Reserved.</i>
</BODY>
</HTML>
