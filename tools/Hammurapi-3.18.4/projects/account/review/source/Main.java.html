<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<STYLE>
                <!-- 
                    .lineNum { width:40px; background:silver; text-align:right; padding-right:3px; color:maroon }
                    .reserved_word { color:blue; font:bold }
                    .comment { color:gray }
                    .literal { color:maroon }
                    TH.standard { font:bold; background:gray }
                    TABLE.standard { background:silver }
                    TR.standard { background:white }
             --> 
            </STYLE>
<TITLE>Hammurapi 3.18.4 []</TITLE>
</HEAD>
<BODY>
<H1>Main.java</H1>
<BR>     
            Package: <P></P>
<P></P>
<B style="color:blue">Results</B>
<table cellspacing="0" cellpadding="5">
<tr>
<th align="left">Date</th><td align="right">2014/10/26</td>
</tr>
<tr>
<th align="left">Codebase</th><td align="right">667</td>
</tr>
<tr>
<th align="left">Reviews</th><td align="right">1088</td>
</tr>
<tr title="Defects per million opportunities">
<td align="left"><B>DPMO</B></td><td align="right">10781 (not accurate because of warnings)</td>
</tr>
<tr title="Sigma">
<td align="left"><B>Sigma</B></td><td align="right">3,798 (not accurate because of warnings)</td>
</tr>
</table>
<P></P>
<B style="color:blue">Metrics</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">Name</th><th class="standard">Number</th><th class="standard">Min</th><th class="standard">Avg</th><th class="standard">Max</th><th class="standard">Total</th>
</tr>
<tr class="standard">
<td>Class complexity</td><td align="right">1</td><td align="right">9.00</td><td align="right">9.00</td><td align="right">9.00</td><td align="right">9.00</td>
</tr>
<tr class="standard">
<td>Code length</td><td align="right">1</td><td align="right">41.00</td><td align="right">41.00</td><td align="right">41.00</td><td align="right">41.00</td>
</tr>
<tr class="standard">
<td>File length</td><td align="right">1</td><td align="right">62.00</td><td align="right">62.00</td><td align="right">62.00</td><td align="right">62.00</td>
</tr>
<tr class="standard">
<td>Operation complexity</td><td align="right">1</td><td align="right">9.00</td><td align="right">9.00</td><td align="right">9.00</td><td align="right">9.00</td>
</tr>
<tr class="standard">
<td>Work order</td><td align="right">1</td><td align="right">3.90</td><td align="right">3.90</td><td align="right">3.90</td><td align="right">3.90</td>
</tr>
</table>
<P></P>
<B style="color:blue">Violations</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Name</th><th class="standard">Severity</th><th class="standard">Description</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_1">1</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-016.html">ER-016</a></td><td align="right">2</td><td>Missing package declaration - encourage structuring and avoid namesapace conflicts by using packages</td>
</tr>
<tr class="standard">
<td align="right">2</td><td align="right"><a href="#line_1">1</a></td><td align="right">15</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-022.html">ER-022</a></td><td align="right">3</td><td>No * imports.</td>
</tr>
<tr class="standard">
<td align="right">3</td><td align="right"><a href="#line_1">1</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-023.html">ER-023</a></td><td align="right">3</td><td>Packages should begin with []</td>
</tr>
<tr class="standard">
<td align="right">4</td><td align="right"><a href="#line_21">21</a></td><td align="right">115</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-036.html">ER-036</a></td><td align="right">3</td><td>Line is too long</td>
</tr>
<tr class="standard">
<td align="right">5</td><td align="right"><a href="#line_22">22</a></td><td align="right">103</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-036.html">ER-036</a></td><td align="right">3</td><td>Line is too long</td>
</tr>
<tr class="standard">
<td align="right">6</td><td align="right"><a href="#line_45">45</a></td><td align="right">17</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-036.html">ER-036</a></td><td align="right">3</td><td>Line is too long</td>
</tr>
<tr class="standard">
<td align="right">7</td><td align="right"><a href="#line_19">19</a></td><td align="right">33</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">8</td><td align="right"><a href="#line_20">20</a></td><td align="right">26</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-104.html">ER-104</a></td><td align="right">2</td><td>Use a Collection instead of arrays Object[]</td>
</tr>
<tr class="standard">
<td align="right">9</td><td align="right"><a href="#line_21">21</a></td><td align="right">19</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-102.html">ER-102</a></td><td align="right">2</td><td>String Arrays are deprecated and are ONLY allowed for final variables</td>
</tr>
<tr class="standard">
<td align="right">10</td><td align="right"><a href="#line_21">21</a></td><td align="right">19</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-104.html">ER-104</a></td><td align="right">2</td><td>Use a Collection instead of arrays Object[]</td>
</tr>
<tr class="standard">
<td align="right">11</td><td align="right"><a href="#line_21">21</a></td><td align="right">36</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">12</td><td align="right"><a href="#line_21">21</a></td><td align="right">47</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">13</td><td align="right"><a href="#line_21">21</a></td><td align="right">52</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">14</td><td align="right"><a href="#line_21">21</a></td><td align="right">63</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">15</td><td align="right"><a href="#line_21">21</a></td><td align="right">68</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">16</td><td align="right"><a href="#line_21">21</a></td><td align="right">79</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">17</td><td align="right"><a href="#line_21">21</a></td><td align="right">84</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">18</td><td align="right"><a href="#line_21">21</a></td><td align="right">95</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">19</td><td align="right"><a href="#line_21">21</a></td><td align="right">100</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">20</td><td align="right"><a href="#line_21">21</a></td><td align="right">111</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">21</td><td align="right"><a href="#line_22">22</a></td><td align="right">24</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">22</td><td align="right"><a href="#line_22">22</a></td><td align="right">35</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">23</td><td align="right"><a href="#line_22">22</a></td><td align="right">40</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">24</td><td align="right"><a href="#line_22">22</a></td><td align="right">51</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">25</td><td align="right"><a href="#line_22">22</a></td><td align="right">56</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">26</td><td align="right"><a href="#line_22">22</a></td><td align="right">67</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">27</td><td align="right"><a href="#line_22">22</a></td><td align="right">72</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">28</td><td align="right"><a href="#line_22">22</a></td><td align="right">83</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">29</td><td align="right"><a href="#line_22">22</a></td><td align="right">88</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-027.html">ER-027</a></td><td align="right">1</td><td>Avoid using "new" keyword when creating String objects to hold string literals.</td>
</tr>
<tr class="standard">
<td align="right">30</td><td align="right"><a href="#line_22">22</a></td><td align="right">99</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">31</td><td align="right"><a href="#line_26">26</a></td><td align="right">51</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-031.html">ER-031</a></td><td align="right">3</td><td>More than one statement per line</td>
</tr>
<tr class="standard">
<td align="right">32</td><td align="right"><a href="#line_25">25</a></td><td align="right">58</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">33</td><td align="right"><a href="#line_26">26</a></td><td align="right">51</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-096.html">ER-096</a></td><td align="right">3</td><td>Empty statements</td>
</tr>
<tr class="standard">
<td align="right">34</td><td align="right"><a href="#line_46">46</a></td><td align="right">53</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">35</td><td align="right"><a href="#line_48">48</a></td><td align="right">60</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-029.html">ER-029</a></td><td align="right">3</td><td>Avoid hardwired numeric literals</td>
</tr>
<tr class="standard">
<td align="right">36</td><td align="right"><a href="#line_54">54</a></td><td align="right">44</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">37</td><td align="right"><a href="#line_57">57</a></td><td align="right">11</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-002.html">ER-002</a></td><td align="right">1</td><td>Empty catch block</td>
</tr>
<tr class="standard">
<td align="right">38</td><td align="right"><a href="#line_57">57</a></td><td align="right">11</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-103.html">ER-103</a></td><td align="right">2</td><td>Catch-blocks should log the exeption with Log4J.error("Context String"  , exception )</td>
</tr>
<tr class="standard">
<td align="right">39</td><td align="right"><a href="#line_57">57</a></td><td align="right">41</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-096.html">ER-096</a></td><td align="right">3</td><td>Empty statements</td>
</tr>
</table>
<P></P>
<B style="color:blue">Warnings</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Message</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_13">13</a></td><td align="right">1</td><td>java.lang.ClassNotFoundException: Class not found: org.apache.log4j.Logger</td>
</tr>
</table>
<P></P>
<DL>
<DT>
<B style="color:blue">JavaDoc</B>
</DT>
<DD>
<a href="../../javadoc/Main.html">Main</a>
</DD>
</DL>
<HR>
<PRE>
<a name="line_1" class="lineNum">1</a><span class="reserved_word">import</span> java.io.*;<BR/><A class="lineNum" name="line_2">2</A><BR/><A class="lineNum" name="line_3">3</A><span class="comment">/**<BR/><A class="lineNum" name="line_4">4</A> * Title:        Software Testing course<BR/><A class="lineNum" name="line_5">5</A> * Description:  The goal of the exercise is implementing a  program which demonstrate  a parallel bug.<BR/><A class="lineNum" name="line_6">6</A> * In the exercise we have two accounts.The program enable tranfering  money from one account to the other.Although the functions were defended by locks (synchronize) there exists an interleaving which we'll experience a bug.<BR/><A class="lineNum" name="line_7">7</A> * Copyright:    Copyright (c) 2003<BR/><A class="lineNum" name="line_8">8</A> * Company:      Haifa U.<BR/><A class="lineNum" name="line_9">9</A> * @author Zoya Shaham and  Maya Maimon<BR/><A class="lineNum" name="line_10">10</A> * @version 1.0<BR/><A class="lineNum" name="line_11">11</A> */</span><BR/><A class="lineNum" name="line_12">12</A><BR/><A class="lineNum" name="line_13">13</A><span class="reserved_word">public</span> <span class="reserved_word">class</span> Main {<BR/><A class="lineNum" name="line_14">14</A><BR/><A class="lineNum" name="line_15">15</A><BR/><A class="lineNum" name="line_16">16</A>    <span class="reserved_word">public</span> <span class="reserved_word">static</span> <span class="reserved_word">void</span> main(String[] args) {<BR/><A class="lineNum" name="line_17">17</A><BR/><A class="lineNum" name="line_18">18</A>        <span class="reserved_word">try</span> {<BR/><A class="lineNum" name="line_19">19</A>            ManageAccount.num = <span class="literal">5</span>;<BR/><A class="lineNum" name="line_20">20</A>            ManageAccount[] bank=<span class="reserved_word">new</span> ManageAccount[ManageAccount.num];<BR/><A class="lineNum" name="line_21">21</A>            String[] accountName= {<span class="reserved_word">new</span> String(<span class="literal">"A"</span>),<span class="reserved_word">new</span> String(<span class="literal">"B"</span>),<span class="reserved_word">new</span> String(<span class="literal">"C"</span>),<span class="reserved_word">new</span> String(<span class="literal">"D"</span>),<span class="reserved_word">new</span> String(<span class="literal">"E"</span>),<BR/><A class="lineNum" name="line_22">22</A>                       <span class="reserved_word">new</span> String(<span class="literal">"F"</span>),<span class="reserved_word">new</span> String(<span class="literal">"G"</span>),<span class="reserved_word">new</span> String(<span class="literal">"H"</span>),<span class="reserved_word">new</span> String(<span class="literal">"I"</span>),<span class="reserved_word">new</span> String(<span class="literal">"J"</span>),<BR/><A class="lineNum" name="line_23">23</A>            };<BR/><A class="lineNum" name="line_24">24</A>            <span class="reserved_word">for</span> (<span class="reserved_word">int</span> j=<span class="literal">0</span>; j&lt;ManageAccount.num; j++) {<BR/><A class="lineNum" name="line_25">25</A>                bank[j]=<span class="reserved_word">new</span> ManageAccount(accountName[j],<span class="literal">100</span>);<BR/><A class="lineNum" name="line_26">26</A>                ManageAccount.accounts[j].print();;<span class="comment">//print it<BR/><A class="lineNum" name="line_27">27</A></span>            }<BR/><A class="lineNum" name="line_28">28</A><BR/><A class="lineNum" name="line_29">29</A><BR/><A class="lineNum" name="line_30">30</A><span class="comment">//start the threads<BR/><A class="lineNum" name="line_31">31</A></span>            <span class="reserved_word">for</span> (<span class="reserved_word">int</span> k=<span class="literal">0</span>; k&lt;ManageAccount.num; k++) {<BR/><A class="lineNum" name="line_32">32</A>                bank[k].start();<BR/><A class="lineNum" name="line_33">33</A>            }<BR/><A class="lineNum" name="line_34">34</A><BR/><A class="lineNum" name="line_35">35</A><span class="comment">// wait until all are finished<BR/><A class="lineNum" name="line_36">36</A></span>            <span class="reserved_word">for</span> (<span class="reserved_word">int</span> k=<span class="literal">0</span>; k&lt;ManageAccount.num; k++) {<BR/><A class="lineNum" name="line_37">37</A>                bank[k].join();<BR/><A class="lineNum" name="line_38">38</A>            }<BR/><A class="lineNum" name="line_39">39</A>            ManageAccount.printAllAccounts();<BR/><A class="lineNum" name="line_40">40</A><BR/><A class="lineNum" name="line_41">41</A>            <span class="comment">//updating the output file<BR/><A class="lineNum" name="line_42">42</A></span>            <span class="reserved_word">boolean</span> bug = <span class="reserved_word">false</span>;<BR/><A class="lineNum" name="line_43">43</A>            <span class="comment">//flags which will indicate the kind of the bug<BR/><A class="lineNum" name="line_44">44</A></span>            <span class="reserved_word">for</span> (<span class="reserved_word">int</span> k=<span class="literal">0</span>; k&lt;ManageAccount.num; k++) {<BR/><A class="lineNum" name="line_45">45</A>                <span class="comment">//System.out.println("account "+k+" has $"+ManageAccount.accounts[k].amount);<BR/><A class="lineNum" name="line_46">46</A></span>                <span class="reserved_word">if</span>(ManageAccount.accounts[k].amount&lt;<span class="literal">300</span>) {<BR/><A class="lineNum" name="line_47">47</A>                    bug=<span class="reserved_word">true</span>;<BR/><A class="lineNum" name="line_48">48</A>                } <span class="reserved_word">else</span> <span class="reserved_word">if</span>(ManageAccount.accounts[k].amount&gt;<span class="literal">300</span>) {<BR/><A class="lineNum" name="line_49">49</A>                    bug=<span class="reserved_word">true</span>;<BR/><A class="lineNum" name="line_50">50</A>                }<BR/><A class="lineNum" name="line_51">51</A>            }<BR/><A class="lineNum" name="line_52">52</A><BR/><A class="lineNum" name="line_53">53</A>            <span class="reserved_word">if</span>(bug) {<BR/><A class="lineNum" name="line_54">54</A>                <span class="reserved_word">throw</span> <span class="reserved_word">new</span> RuntimeException(<span class="literal">"bug found"</span>);<BR/><A class="lineNum" name="line_55">55</A>            }<BR/><A class="lineNum" name="line_56">56</A><BR/><A class="lineNum" name="line_57">57</A>        } <span class="reserved_word">catch</span>(InterruptedException e) {<BR/><A class="lineNum" name="line_58">58</A>        }<BR/><A class="lineNum" name="line_59">59</A><BR/><A class="lineNum" name="line_60">60</A>    }<span class="comment">//end of function main<BR/><A class="lineNum" name="line_61">61</A></span>}<span class="comment">//end of class Main<BR/><A class="lineNum" name="line_62">62</A></span><BR/><A class="lineNum" name="line_63">63</A>
</PRE>
<HR>
<i>Hammurapi 3.18.4 Copyright &copy; 2004 Hammurapi Group. All Rights Reserved.</i>
</BODY>
</HTML>
