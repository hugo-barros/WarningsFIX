<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<STYLE>
                <!-- 
                    .lineNum { width:40px; background:silver; text-align:right; padding-right:3px; color:maroon }
                    .reserved_word { color:blue; font:bold }
                    .comment { color:gray }
                    .literal { color:maroon }
                    TH.standard { font:bold; background:gray }
                    TABLE.standard { background:silver }
                    TR.standard { background:white }
             --> 
            </STYLE>
<TITLE>Hammurapi 3.18.4 []</TITLE>
</HEAD>
<BODY>
<H1>Account.java</H1>
<BR>     
            Package: <P></P>
<P></P>
<B style="color:blue">Results</B>
<table cellspacing="0" cellpadding="5">
<tr>
<th align="left">Date</th><td align="right">2014/10/26</td>
</tr>
<tr>
<th align="left">Codebase</th><td align="right">311</td>
</tr>
<tr>
<th align="left">Reviews</th><td align="right">569</td>
</tr>
<tr title="Defects per million opportunities">
<td align="left"><B>DPMO</B></td><td align="right">11704 (not accurate because of warnings)</td>
</tr>
<tr title="Sigma">
<td align="left"><B>Sigma</B></td><td align="right">3,767 (not accurate because of warnings)</td>
</tr>
</table>
<P></P>
<B style="color:blue">Metrics</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">Name</th><th class="standard">Number</th><th class="standard">Min</th><th class="standard">Avg</th><th class="standard">Max</th><th class="standard">Total</th>
</tr>
<tr class="standard">
<td>Class complexity</td><td align="right">1</td><td align="right">6.00</td><td align="right">6.00</td><td align="right">6.00</td><td align="right">6.00</td>
</tr>
<tr class="standard">
<td>Code length</td><td align="right">5</td><td align="right">0.00</td><td align="right">2.80</td><td align="right">10.00</td><td align="right">14.00</td>
</tr>
<tr class="standard">
<td>File length</td><td align="right">1</td><td align="right">0.00</td><td align="right">0.00</td><td align="right">0.00</td><td align="right">0.00</td>
</tr>
<tr class="standard">
<td>Operation complexity</td><td align="right">5</td><td align="right">1.00</td><td align="right">1.20</td><td align="right">2.00</td><td align="right">6.00</td>
</tr>
<tr class="standard">
<td>Work order</td><td align="right">1</td><td align="right">13.05</td><td align="right">13.05</td><td align="right">13.05</td><td align="right">13.05</td>
</tr>
</table>
<P></P>
<B style="color:blue">Violations</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Name</th><th class="standard">Severity</th><th class="standard">Description</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_3">3</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-016.html">ER-016</a></td><td align="right">2</td><td>Missing package declaration - encourage structuring and avoid namesapace conflicts by using packages</td>
</tr>
<tr class="standard">
<td align="right">2</td><td align="right"><a href="#line_3">3</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-023.html">ER-023</a></td><td align="right">3</td><td>Packages should begin with []</td>
</tr>
<tr class="standard">
<td align="right">3</td><td align="right"><a href="#line_3">3</a></td><td align="right">1</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-105.html">ER-105</a></td><td align="right">3</td><td>Document all Interfaces and public methods. Use a Class header. Provide Javadoc</td>
</tr>
<tr class="standard">
<td align="right">4</td><td align="right"><a href="#line_4">4</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">5</td><td align="right"><a href="#line_8">8</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-105.html">ER-105</a></td><td align="right">3</td><td>Document all Interfaces and public methods. Use a Class header. Provide Javadoc</td>
</tr>
<tr class="standard">
<td align="right">6</td><td align="right"><a href="#line_8">8</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-109.html">ER-109</a></td><td align="right">3</td><td>It is good practice to call in any case super() in a constructor. (see also: UnnecessaryConstructorRule )</td>
</tr>
<tr class="standard">
<td align="right">7</td><td align="right"><a href="#line_8">8</a></td><td align="right">30</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">8</td><td align="right"><a href="#line_13">13</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-008.html">ER-008</a></td><td align="right">2</td><td>Synchronize at the block level rather than the method level</td>
</tr>
<tr class="standard">
<td align="right">9</td><td align="right"><a href="#line_13">13</a></td><td align="right">32</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">10</td><td align="right"><a href="#line_17">17</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-008.html">ER-008</a></td><td align="right">2</td><td>Synchronize at the block level rather than the method level</td>
</tr>
<tr class="standard">
<td align="right">11</td><td align="right"><a href="#line_17">17</a></td><td align="right">33</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">12</td><td align="right"><a href="#line_21">21</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-008.html">ER-008</a></td><td align="right">2</td><td>Synchronize at the block level rather than the method level</td>
</tr>
<tr class="standard">
<td align="right">13</td><td align="right"><a href="#line_24">24</a></td><td align="right">25</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-106.html">ER-106</a></td><td align="right">2</td><td>If you have to compare with a string do not use  degree.equals("1"))  but "1".equals(degree)</td>
</tr>
<tr class="standard">
<td align="right">14</td><td align="right"><a href="#line_24">24</a></td><td align="right">25</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">15</td><td align="right"><a href="#line_25">25</a></td><td align="right">31</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-111.html">ER-111</a></td><td align="right">1</td><td>LOG4J is mandatory for all logging in ERC. System.out.println will be lost in a system console of our web/app server.</td>
</tr>
<tr class="standard">
<td align="right">16</td><td align="right"><a href="#line_25">25</a></td><td align="right">32</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-030.html">ER-030</a></td><td align="right">3</td><td>Avoid hardwired string literals</td>
</tr>
<tr class="standard">
<td align="right">17</td><td align="right"><a href="#line_21">21</a></td><td align="right">44</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-048.html">ER-048</a></td><td align="right">1</td><td>Use BigDecimal instead of Float or Double for monetary values</td>
</tr>
<tr class="standard">
<td align="right">18</td><td align="right"><a href="#line_36">36</a></td><td align="right">5</td><td NOWRAP="yes"><a href="../../inspectors/inspector_ER-008.html">ER-008</a></td><td align="right">2</td><td>Synchronize at the block level rather than the method level</td>
</tr>
</table>
<P></P>
<B style="color:blue">Warnings</B>
<table border="0" cellspacing="1" cellpadding="3" class="standard">
<tr class="standard">
<th class="standard">#</th><th class="standard">Line</th><th class="standard">Column</th><th class="standard">Message</th>
</tr>
<tr class="standard">
<td align="right">1</td><td align="right"><a href="#line_3">3</a></td><td align="right">1</td><td>java.lang.ClassNotFoundException: org.apache.log4j.Logger</td>
</tr>
<tr class="standard">
<td align="right">2</td><td align="right"><a href="#line_"></a></td><td align="right"></td><td>Inspector ER-086 disabled itself with message 'javax.servlet.Servlet'</td>
</tr>
</table>
<P></P>
<DL>
<DT>
<B style="color:blue">JavaDoc</B>
</DT>
<DD>
<a href="../../javadoc/Account.html">Account</a>
</DD>
</DL>
<HR>
<PRE>
<a name="line_1" class="lineNum">1</a><span class="comment">//import java.lang.*;<BR/><A class="lineNum" name="line_2">2</A></span><BR/><A class="lineNum" name="line_3">3</A><span class="reserved_word">public</span> <span class="reserved_word">class</span> Account {<BR/><A class="lineNum" name="line_4">4</A>    <span class="reserved_word">double</span> amount;<BR/><A class="lineNum" name="line_5">5</A>    String  name;<BR/><A class="lineNum" name="line_6">6</A><BR/><A class="lineNum" name="line_7">7</A>    <span class="comment">//constructor<BR/><A class="lineNum" name="line_8">8</A></span>    <span class="reserved_word">public</span> Account(String nm,<span class="reserved_word">double</span> amnt ) {<BR/><A class="lineNum" name="line_9">9</A>        amount=amnt;<BR/><A class="lineNum" name="line_10">10</A>        name=nm;<BR/><A class="lineNum" name="line_11">11</A>    }<BR/><A class="lineNum" name="line_12">12</A>    <span class="comment">//functions<BR/><A class="lineNum" name="line_13">13</A></span>    <span class="reserved_word">synchronized</span>  <span class="reserved_word">void</span> depsite(<span class="reserved_word">double</span> money) {<BR/><A class="lineNum" name="line_14">14</A>        amount+=money;<BR/><A class="lineNum" name="line_15">15</A>    }<BR/><A class="lineNum" name="line_16">16</A><BR/><A class="lineNum" name="line_17">17</A>    <span class="reserved_word">synchronized</span>  <span class="reserved_word">void</span> withdraw(<span class="reserved_word">double</span> money) {<BR/><A class="lineNum" name="line_18">18</A>        amount-=money;<BR/><A class="lineNum" name="line_19">19</A>    }<BR/><A class="lineNum" name="line_20">20</A><BR/><A class="lineNum" name="line_21">21</A>    <span class="reserved_word">synchronized</span>  <span class="reserved_word">void</span> transfer(Account ac,<span class="reserved_word">double</span> mn) {<BR/><A class="lineNum" name="line_22">22</A>        amount-=mn;<BR/><A class="lineNum" name="line_23">23</A>        <span class="comment">//System.out.println("ac.amount is $"+ac.amount);<BR/><A class="lineNum" name="line_24">24</A></span>        <span class="reserved_word">if</span> (name.equals(<span class="literal">"D"</span>)) {<BR/><A class="lineNum" name="line_25">25</A>            System.out.println(<span class="literal">"unprotected"</span>);<BR/><A class="lineNum" name="line_26">26</A>            ac.amount+=mn;<span class="comment">//no aquire for the other lock!!<BR/><A class="lineNum" name="line_27">27</A></span>            <span class="comment">//+= might cause problem --it is not atomic.<BR/><A class="lineNum" name="line_28">28</A></span>        } <span class="reserved_word">else</span> {<BR/><A class="lineNum" name="line_29">29</A>            <span class="comment">//System.out.println("protected");<BR/><A class="lineNum" name="line_30">30</A></span>            <span class="reserved_word">synchronized</span> (ac) {<BR/><A class="lineNum" name="line_31">31</A>                ac.amount+=mn;<BR/><A class="lineNum" name="line_32">32</A>            }<BR/><A class="lineNum" name="line_33">33</A>        }<BR/><A class="lineNum" name="line_34">34</A>    }<BR/><A class="lineNum" name="line_35">35</A><BR/><A class="lineNum" name="line_36">36</A>    <span class="reserved_word">synchronized</span> <span class="reserved_word">void</span> print() {<BR/><A class="lineNum" name="line_37">37</A>    }<BR/><A class="lineNum" name="line_38">38</A><BR/><A class="lineNum" name="line_39">39</A>}<span class="comment">//end of class Acount<BR/><A class="lineNum" name="line_40">40</A></span><BR/><A class="lineNum" name="line_41">41</A>
</PRE>
<HR>
<i>Hammurapi 3.18.4 Copyright &copy; 2004 Hammurapi Group. All Rights Reserved.</i>
</BODY>
</HTML>
